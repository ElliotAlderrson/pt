{"version":3,"sources":["UI.coffee"],"names":[],"mappings":"AACA,IAAA,EAAA;EAAA;;;AAAM;;;EAGJ,EAAC,CAAA,UAAD,GAAa;;EAEA,YAAA;IACX,qCAAA,SAAA;IACA,IAAC,CAAA,QAAD,GAAY;EAFD;;eAIb,OAAA,GAAU,SAAC,IAAD,EAAO,KAAP,EAAc,GAAd;IACR,GAAG,CAAC,SAAJ,GAAgB;WAChB,IAAI,CAAC,IAAL,CAAW,GAAX,EAAgB,IAAhB;EAFQ;;eAIV,aAAA,GAAe,SAAC,IAAD,EAAO,CAAP,EAAU,CAAV,EAAa,GAAb;IACb,IAAG,IAAC,CAAA,cAAD,CAAiB,CAAjB,EAAoB,CAApB,CAAH;MACE,IAAG,IAAA,KAAQ,MAAR,IAAmB,CAAC,EAAE,CAAC,UAA1B;QACE,IAAC,CAAA,QAAD,GAAY;QACZ,EAAE,CAAC,UAAH,GAAgB,KAFlB;OADF;;IAKA,IAAG,IAAC,CAAA,QAAD,IAAc,IAAA,KAAQ,MAAzB;MACE,IAAC,CAAA,MAAD,CAAQ,CAAR,EAAU,CAAV,CAAY,CAAC,MAAb,CAAqB,IAAC,CAAA,IAAD,CAAA,CAAO,CAAC,QAAR,CAAiB,CAAC,GAAlB,CAArB,EADF;;IAGA,IAAG,IAAA,KAAQ,MAAX;MACE,IAAC,CAAA,QAAD,GAAY;aACZ,EAAE,CAAC,UAAH,GAAgB,KAFlB;;EATa;;;;GAbA;;AA4BjB,IAAI,CAAC,EAAL,GAAU","file":"UI.js","sourceRoot":"/source/","sourcesContent":["# # A simple handle that can be dragged by mouse\r\nclass UI extends Rectangle\r\n\r\n  # class variable tracks if a handle has been dragged (to avoid dragging multiple handles at once)\r\n  @dragTarget: null\r\n\r\n  constructor: () ->\r\n    super\r\n    @dragging = false\r\n\r\n  animate : (time, frame, ctx) ->\r\n    ctx.fillStyle = '#f00'\r\n    Form.rect( ctx, this )\r\n\r\n  onMouseAction: (type, x, y, evt) ->\r\n    if @intersectPoint( x, y )\r\n      if type == 'drag' and !UI.dragTarget\r\n        @dragging = true\r\n        UI.dragTarget = this\r\n\r\n    if @dragging and type == 'move'\r\n      @moveTo(x,y).moveBy( @size().multiply(-0.5) ) # move and anchor by center point\r\n\r\n    if type == 'drop'\r\n      @dragging = false\r\n      UI.dragTarget = null\r\n\r\n\r\n# namespace\r\nthis.UI = UI"]}