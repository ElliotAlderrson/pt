{"version":3,"sources":["ParticleEmitter.coffee"],"names":[],"mappings":"AAEA,IAAA,eAAA;EAAA;;;AAAM;;;EAMS,yBAAA;IACX,kDAAA,SAAA;IAEA,IAAC,CAAA,MAAD,GAAU;IACV,IAAC,CAAA,QAAD,GAAY;IACZ,IAAC,CAAA,SAAD,GAAa,CAAC;EALH;;4BAQb,SAAA,GAAW,SAAC,CAAD;WAAO,IAAC,CAAA,MAAD,GAAU,IAAA,GAAO;EAAxB;;4BAGX,IAAA,GAAM,SAAA,GAAA;;4BAKN,OAAA,GAAS,SAAE,IAAF,EAAQ,KAAR,EAAe,GAAf;IACP,IAAG,IAAA,GAAO,IAAC,CAAA,QAAR,GAAmB,IAAC,CAAA,MAAvB;MACE,IAAC,CAAA,IAAD,CAAA;aACA,IAAC,CAAA,QAAD,GAAY,KAFd;;EADO;;;;GAtBmB;;AA8B9B,IAAI,CAAC,eAAL,GAAuB","file":"ParticleEmitter.js","sourceRoot":"/source/","sourcesContent":["\r\n# # Particle Emitter\r\nclass ParticleEmitter extends Vector\r\n\r\n  # ## Constructor\r\n  # @param {system} Particle System\r\n  # @param {position} position of the emitter\r\n  # @param {frequency} number of particles to emit per second\r\n  constructor: ( ) ->\r\n    super\r\n\r\n    @system = null\r\n    @lastTime = 0\r\n    @animateID = -1 # for Space loop\r\n\r\n  # ## Set frequency of emisson. f = how many per second.\r\n  frequency: (f) -> @period = 1000 / f\r\n\r\n  # ## emit a particle (abstract method)\r\n  emit: ->\r\n    # override to define an emitter function\r\n    # e.g @system.add( new Particle( @position ) )\r\n\r\n  # ## animate function to be called by Space\r\n  animate: ( time, frame, ctx ) ->\r\n    if time - @lastTime > @period\r\n      @emit()\r\n      @lastTime = time\r\n\r\n\r\n\r\n# namespace\r\nthis.ParticleEmitter = ParticleEmitter"]}