!function(){window.demoDescription="Two kinds of lines rotate along its middle point. Mark the intersection with other lines of its own kind, and of the other kind.";for(var e={a1:"#ff2d5d",a2:"#42dc8e",a3:"#2e43eb",a4:"#ffe359",b1:"#96bfed",b2:"#f5ead6",b3:"#f1f3f7",b4:"#e2e6ef"},t=new CanvasSpace("demo",e.b4).display(),n=new Form(t.ctx),o=[],i=0;30>i;i++)o.push(new Vector(t.size.$multiply(Math.random(),Math.random())).add(0,0,50+75*Math.random()));var a=0;t.add({animate:function(t,i,r){for(var f=[],s=[],d=0;d<o.length;d++){var l=d%2===0?1:-1,h=Const.two_pi*(d%10)/10,c=new Line(o[d].$subtract(o[d].z,0)).to(o[d].$add(o[d].z,0));c.rotate2D(h+a*l,o[d]);var p=d%2===0?f:s;p.push(c)}var w;for(d=0;d<f.length;d++){for(var b=0;b<s.length;b++)w=f[d].intersectLine(s[b]),w&&n.fill(!1).stroke("rgba(255,255,255,1)",10).point(w,20,!0);for(b=0;b<f.length;b++)w=f[d].intersectLine(f[b]),w&&n.fill(e.a1,2).stroke(!1).point(w,7,!0)}for(d=0;d<s.length;d++){for(b=0;b<s.length;b++)w=s[d].intersectLine(s[b]),w&&n.fill(e.a2,2).stroke(!1).point(w,7,!0);n.stroke(e.a1,5).line(f[d]),n.stroke(e.a2,5).line(s[d])}},onMouseAction:function(e,n,o,i){a=o/t.size.y*Const.two_pi}}),t.bindMouse(),t.play()}();