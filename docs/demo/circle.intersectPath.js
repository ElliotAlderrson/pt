!function(){window.demoDescription="A circle moves in a field of line segments. Check intersections on both line paths and line segments, and highlight the intersection points and paths";for(var e={a1:"#ff2d5d",a2:"#42dc8e",a3:"#2e43eb",a4:"#ffe359",b1:"#96bfed",b2:"#f5ead6",b3:"#f1f3f7",b4:"#e2e6ef"},n=new CanvasSpace("demo","#222").display(),t=new Form(n.ctx),a=new Circle(n.size.$divide(2)).setRadius(100),i=[],o=0;70>o;o++){var r=new Vector(n.size.x/3*(Math.random()-Math.random()),n.size.x/3*(Math.random()-Math.random()));i.push(new Pair(n.size.$multiply(Math.random(),Math.random())).to(r).relative())}n.add({animate:function(n,o,r){for(var s=0;s<i.length;s++){var d=!1,l=a.intersectPath(i[s]);if(l&&l.length>0){for(var f=0;f<l.length;f++)t.stroke(!1).fill("rgba(255,255,255,.2)"),t.point(l[f],.5),t.stroke("rgba(255,255,255,.05)"),t.line(new Line(l[f]).to(i[s]));var h=a.intersectLine(i[s]);d=h.length>0,t.stroke(!1).fill(e.a1);for(var c=0;c<h.length;c++)t.point(h[c],3,!0)}t.stroke(d?e.a1:e.b2),t.line(i[s])}},onMouseAction:function(e,n,t,i){"move"==e&&a.set(n,t)}}),n.bindMouse(),n.play()}();